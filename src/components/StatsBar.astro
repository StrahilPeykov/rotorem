---
import { getLangFromUrl, useTranslations } from '../i18n/utils';

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
const isEN = lang === 'en';

// You can modify these numbers to match your actual statistics
const stats = [
  {
    value: '1000+',
    label: isEN ? 'Repairs Completed' : 'Успешни ремонти',
    icon: `<svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"/></svg>`
  },
  {
    value: '15+',
    label: isEN ? 'Years Experience' : 'Години опит',
    icon: `<svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><rect width="18" height="18" x="3" y="3" rx="2" ry="2"/><line x1="3" x2="21" y1="9" y2="9"/><line x1="9" x2="9" y1="21" y2="9"/></svg>`
  },
  {
    value: '24h',
    label: isEN ? 'Response Time' : 'Време за реакция',
    icon: `<svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>`
  },
  {
    value: '6',
    label: isEN ? 'Month Warranty' : 'Месеца гаранция',
    icon: `<svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg>`
  }
];
---

<section class="bg-gradient-to-r from-blue-600 to-blue-800 py-8 shadow-inner border-t border-b border-blue-900/20">
  <div class="container">
    <!-- Desktop layout -->
    <div class="hidden md:grid md:grid-cols-4 gap-6 text-center">
      {stats.map(stat => (
        <div class="flex flex-col items-center justify-center p-4">
          <div class="text-3xl font-bold text-white mb-1">{stat.value}</div>
          <div class="text-sm text-white/90 font-medium">{stat.label}</div>
        </div>
      ))}
    </div>

    <!-- Enhanced Mobile layout with cards -->
    <div class="grid grid-cols-2 gap-4 md:hidden">
      {stats.map(stat => (
        <div class="flex flex-col items-center justify-center p-4 bg-white/10 rounded-lg backdrop-blur-sm">
          <div class="mb-2 text-white/80">
            <Fragment set:html={stat.icon} />
          </div>
          <div class="text-2xl font-bold text-white mb-1">{stat.value}</div>
          <div class="text-xs text-white/90 font-medium">{stat.label}</div>
        </div>
      ))}
    </div>
  </div>
</section>