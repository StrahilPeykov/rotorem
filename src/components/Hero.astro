---
import { getLangFromUrl, useTranslations } from '../i18n/utils';

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
const isEN = lang === 'en';

// Enhanced Hero styling with full-width image
const heroClass = "relative overflow-hidden py-24 md:py-32 bg-blue-50";
---

<section class={heroClass} style="position: relative; overflow: hidden;">
  <!-- Background image container with full width forcing -->
  <div class="absolute inset-0 z-0 w-full h-full" style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; width: 100vw; height: 100%;">
    <img 
      src="/img/hero.webp" 
      alt="" 
      class="w-full h-full object-cover object-center"
      width="1920"
      height="1080"
      style="position: absolute; top: 0; left: 0; width: 100vw; height: 100%; object-fit: cover; object-position: center;"
    />
    <!-- Semi-transparent overlay -->
    <div class="absolute inset-0 bg-white opacity-85" style="position: absolute; top: 0; left: 0; right: 0; bottom: 0;"></div>
  </div>
  
  <div class="container relative z-10">
    <div class="max-w-2xl">
      <div class="inline-block px-4 py-1 bg-primary text-white text-sm font-semibold rounded-full mb-6">
        {isEN ? 'Fast repairs in Varna area' : 'Бързи ремонти в района на Варна'}
      </div>
      
      <h1 class="text-4xl md:text-5xl font-bold leading-tight text-gray-900 mb-2">
        {t('hero.title')}
      </h1>
      
      <div class="w-20 h-1 bg-accent my-6"></div> <!-- Decorative line -->
      
      <p class="mt-6 text-xl text-gray-700">
        {t('hero.subtitle')}
      </p>
      
      <div class="mt-8 flex flex-col sm:flex-row gap-4">
        <a href="/book" class="btn-cta inline-flex items-center justify-center">
          <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 mr-2" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17 3a2.85 2.85 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z"></path></svg>
          {t('hero.cta')}
        </a>
        
        <a href="tel:+359878123456" class="btn-primary inline-flex items-center justify-center">
          <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 mr-2" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path></svg>
          {t('hero.phone')}
        </a>
      </div>
      
      <!-- Trust badges with fixed text color -->
      <div class="mt-10 flex flex-wrap gap-4 items-center">
        <div class="bg-white/80 backdrop-blur px-4 py-2 rounded-lg flex items-center shadow-sm">
          <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 text-primary mr-2" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z"></path>
            <path d="m9 12 2 2 4-4"></path>
          </svg>
          <span class="text-sm font-medium text-gray-800" style="color: #1f2937 !important;">
            {isEN ? 'Professional service' : 'Професионално обслужване'}
          </span>
        </div>
        
        <div class="bg-white/80 backdrop-blur px-4 py-2 rounded-lg flex items-center shadow-sm">
          <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 text-primary mr-2" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path>
          </svg>
          <span class="text-sm font-medium text-gray-800" style="color: #1f2937 !important;">
            {isEN ? 'With warranty' : 'С гаранция'}
          </span>
        </div>
        
        <div class="bg-white/80 backdrop-blur px-4 py-2 rounded-lg flex items-center shadow-sm">
          <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 text-primary mr-2" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <circle cx="12" cy="12" r="10"></circle>
            <polyline points="12 6 12 12 16 14"></polyline>
          </svg>
          <span class="text-sm font-medium text-gray-800" style="color: #1f2937 !important;">
            {isEN ? 'Fast response' : 'Бърза реакция'}
          </span>
        </div>
      </div>
    </div>
  </div>
</section>